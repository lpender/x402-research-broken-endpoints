{
  "items": [
    {
      "id": "REAL-001",
      "category": "dependencies",
      "description": "Install x402 payment dependencies for both networks",
      "steps_to_verify": [
        "npm install @x402/fetch @x402/evm @x402/svm viem @solana/kit @scure/base succeeds",
        "No TypeScript errors related to x402 imports",
        "RealX402Client.initialize() compiles without error for both networks"
      ],
      "passes": true
    },
    {
      "id": "REAL-002",
      "category": "client",
      "description": "Wire study runner to use RealX402Client when mockMode=false",
      "steps_to_verify": [
        "src/study.ts imports and uses RealX402Client conditionally",
        "runTrial() receives client as parameter (not created internally)",
        "Real client initialized once per study, reused across trials",
        "Mock mode behavior unchanged (verified with existing tests)"
      ],
      "passes": true
    },
    {
      "id": "REAL-003",
      "category": "client",
      "description": "Export createRealX402Client factory function with network support",
      "steps_to_verify": [
        "src/x402-client.ts exports createRealX402Client(config, network)",
        "Factory initializes client and returns ready-to-use instance",
        "Throws clear error if EVM_PRIVATE_KEY missing for Base",
        "Throws clear error if SOLANA_PRIVATE_KEY missing for Solana"
      ],
      "passes": true
    },
    {
      "id": "BUDGET-001",
      "category": "budget",
      "description": "Create SpendTracker for budget enforcement",
      "steps_to_verify": [
        "src/spend-tracker.ts exports SpendTracker class",
        "recordSpend(amount) adds to cumulative total",
        "canSpend(amount) returns false if would exceed budget",
        "getRemainingBudget() returns budgetUsdc - spentUsdc"
      ],
      "passes": true
    },
    {
      "id": "BUDGET-002",
      "category": "budget",
      "description": "Study aborts gracefully when budget exhausted",
      "steps_to_verify": [
        "Study checks canSpend() before each cycle",
        "If budget exceeded, saves partial results",
        "Console shows: 'Budget exhausted: spent $X of $Y'",
        "Exit code 0 (graceful stop, not error)"
      ],
      "passes": true
    },
    {
      "id": "BUDGET-003",
      "category": "budget",
      "description": "CLI requires --budget for --real mode",
      "steps_to_verify": [
        "--real without --budget shows error: 'Budget required for real mode'",
        "--budget=5.00 sets budget to 5 USDC",
        "Budget passed to SpendTracker"
      ],
      "passes": true
    },
    {
      "id": "ENDPOINT-001",
      "category": "endpoints",
      "description": "Create real endpoint registry with network support",
      "steps_to_verify": [
        "src/real-endpoints.ts exports REAL_ENDPOINTS array",
        "At least one endpoint per category (pool, whale, sentiment) per network",
        "Each endpoint has: url, name, category, priceUsdc, x402Enabled, network"
      ],
      "passes": true
    },
    {
      "id": "ENDPOINT-002",
      "category": "endpoints",
      "description": "Agent uses real endpoints in real mode",
      "steps_to_verify": [
        "YieldOptimizerAgent accepts endpoint source parameter",
        "Real mode uses REAL_ENDPOINTS, mock mode uses MOCK_ENDPOINTS",
        "fetchPoolData/fetchWhaleActivity/fetchSentimentData route accordingly"
      ],
      "passes": true
    },
    {
      "id": "CONFIG-001",
      "category": "config",
      "description": "Create .env.example with required variables for both networks",
      "steps_to_verify": [
        ".env.example exists in project root",
        "Documents: EVM_PRIVATE_KEY, BASE_RPC_URL for Base",
        "Documents: SOLANA_PRIVATE_KEY, SOLANA_RPC_URL for Solana",
        "Comments explain each variable's purpose"
      ],
      "passes": true
    },
    {
      "id": "CONFIG-002",
      "category": "config",
      "description": "Validate config for real mode based on network",
      "steps_to_verify": [
        "validateRealModeConfig() accepts network parameter",
        "Checks EVM_PRIVATE_KEY is non-empty for Base network",
        "Checks SOLANA_PRIVATE_KEY is non-empty for Solana network",
        "Clear error messages for missing config"
      ],
      "passes": true
    },
    {
      "id": "SAFETY-001",
      "category": "safety",
      "description": "Interactive confirmation before real spend",
      "steps_to_verify": [
        "Real mode shows: network, budget, estimated spend, wallet address (truncated)",
        "Prompts: 'Press y to continue'",
        "Any key except 'y' aborts with 'Aborted by user'",
        "--yes flag skips confirmation"
      ],
      "passes": true
    },
    {
      "id": "SAFETY-002",
      "category": "safety",
      "description": "Show wallet balance command with network support",
      "steps_to_verify": [
        "--balance --network=base shows USDC balance on Base",
        "--balance --network=solana shows USDC balance on Solana",
        "Shows wallet address (truncated) and balance",
        "Exits after showing balance (does not run study)"
      ],
      "passes": true
    },
    {
      "id": "CLI-001",
      "category": "cli",
      "description": "Add --budget CLI flag",
      "steps_to_verify": [
        "--budget=N parsed as float",
        "Passed to StudyConfig",
        "Shows in study header output"
      ],
      "passes": true
    },
    {
      "id": "CLI-002",
      "category": "cli",
      "description": "Add --yes CLI flag",
      "steps_to_verify": [
        "--yes skips confirmation prompt",
        "Only affects real mode (mock mode has no prompt)",
        "Useful for scripted/CI runs"
      ],
      "passes": true
    },
    {
      "id": "CLI-003",
      "category": "cli",
      "description": "Add --balance CLI flag with network support",
      "steps_to_verify": [
        "--balance shows wallet USDC balance",
        "Requires EVM_PRIVATE_KEY for Base network",
        "Requires SOLANA_PRIVATE_KEY for Solana network",
        "Does not run study, just shows balance and exits"
      ],
      "passes": true
    },
    {
      "id": "NET-001",
      "category": "network",
      "description": "Add --network CLI flag for network selection",
      "steps_to_verify": [
        "--network=base selects Base/EVM",
        "--network=solana selects Solana/SVM",
        "Default is 'base' (more endpoints available)",
        "Invalid network shows error with valid options"
      ],
      "passes": true
    },
    {
      "id": "NET-002",
      "category": "network",
      "description": "x402 client supports both networks",
      "steps_to_verify": [
        "createRealX402Client(config, network) accepts network parameter",
        "Base: uses @x402/evm + viem + registerExactEvmScheme",
        "Solana: uses @x402/svm + @solana/kit + registerExactSvmScheme",
        "Both share same interface for study runner"
      ],
      "passes": true
    },
    {
      "id": "NET-003",
      "category": "network",
      "description": "Wallet utils support both networks",
      "steps_to_verify": [
        "getWalletAddress(config, network) derives correct format",
        "getWalletUsdcBalance(address, config, network) queries correct contract",
        "Base USDC: 0x833589fCD6eDb6E08f4c7C32D4f71b54bdA02913",
        "Solana USDC: EPjFWdd5AufqSSqeM2qN1xzybapC8G4wEGGkZwyTDt1v"
      ],
      "passes": true
    },
    {
      "id": "NET-004",
      "category": "network",
      "description": "Endpoint registry supports both networks",
      "steps_to_verify": [
        "REAL_ENDPOINTS has 'network' field (base | solana)",
        "getEndpointsForNetwork(network) filters by network",
        "Base has Elsa endpoints configured",
        "Solana endpoints documented as TBD or placeholder"
      ],
      "passes": true
    },
    {
      "id": "E2E-001",
      "category": "e2e",
      "description": "Real mode study completes with small budget on Base",
      "steps_to_verify": [
        "Configure .env with funded Base wallet (EVM_PRIVATE_KEY)",
        "Run: --study --real --network=base --budget=0.50 --trials=1 --cycles=2",
        "Study completes (or stops at budget)",
        "Results contain real endpoint responses (not mock)",
        "Transactions visible on BaseScan"
      ],
      "passes": false,
      "blocked": "Requires real x402 endpoints and funded Base wallet (external infrastructure)"
    },
    {
      "id": "E2E-002",
      "category": "e2e",
      "description": "Budget enforcement stops study correctly",
      "steps_to_verify": [
        "Run: --study --real --network=base --budget=0.10 --trials=10 --cycles=50",
        "Study stops before completing all trials",
        "Message: 'Budget exhausted'",
        "Partial results saved to files"
      ],
      "passes": false,
      "blocked": "Requires real x402 endpoints and funded Base wallet (external infrastructure)"
    }
  ]
}
